<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <title>Kniffel</title>
    <link rel="stylesheet" href="StyleSheets/styles.css" />
    <link rel="stylesheet" href="StyleSheets/NavbarStyle.css" />

    <link rel="icon" href="Bilder/kniflle.jpg">
    
</head>

<body>
    <!--Naviagtionsleiste oben-->
    <div class="navbar">
        <a href="Index.html">Startseite</a>
        <a class="active" href="Spiel2.html">Spiel</a>
        <div class="dropdown">
            <button class="dropbtn">
                Optionen
                <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content">
                <a href="Optionen.html">Ranking</a>
                <a href="Regeln.html">Regeln</a>
            </div>
        </div>
        <div class="dropdown">
            <button class="dropbtn">
                Kontakt
                <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content">
                <a href="Impressum.html">Impressum</a>
                <a href="Kontakt.html">Kontaktformular</a>
            </div>
        </div>
        <a href="Datenschutz.html">Datenschutz</a>
        <!-- Button to open the modal login form -->
        <button class="login" onclick="document.getElementById('id01').style.display='block'">Login</button>
    </div>

    <!-- Headline -->
    <Center><h1>Kniffel, ein Klassiker neu aufgelget</h1></Center>



    <!-- Würfel anzeige-->
    <div class="Dices">
        <img class="Dice" id="Dice1" src="Bilder/Würfelseiten/1eyed.jpg" onclick="auswählen(this)">
        <img class="Dice" id="Dice2" src="Bilder/Würfelseiten/1eyed.jpg" onclick="auswählen(this)">
        <img class="Dice" id="Dice3" src="Bilder/Würfelseiten/1eyed.jpg" onclick="auswählen(this)">
        <img class="Dice" id="Dice4" src="Bilder/Würfelseiten/1eyed.jpg" onclick="auswählen(this)">
        <img class="Dice" id="Dice5" src="Bilder/Würfelseiten/1eyed.jpg" onclick="auswählen(this)">

    </div>

    <!-- Knopf zum Wüfeln-->
    <center><button id="würfle" class="login4" onclick="rollDice5()"> Würfle </button></center>
    <center><button id="würfle" class="login4" onclick="nextPlayer()"> Nächster Spieler </button></center>
    <p align="right">Aktuell am Zug:</p>
    <p align="right" id="player">1</p>

    <!-- Block,
        erstes td = name der kombi mit onclick funktion zum punkte berechnen
        zweites td = speicher der Punkte
        -->
    <table id="rheihe">
        <caption>Block</caption>
        <tr>
            <th>Kombi</th>
            <th>Spieler 1</th>
            <th>Spieler 2</th>
            <th>Spieler 3</th>
            <th>Spieler 4</th>
        </tr>
        <tr>
            <td onclick="obererBlock(1)">Einser</td>
            <td id="einserPunkte" onclick="obererBlock(1)"></td>
            <td id="einserPunkte2" onclick="obererBlock(1)"></td>
            <td id="einserPunkte3" onclick="obererBlock(1)"></td>
            <td id="einserPunkte4" onclick="obererBlock(1)"></td>
        </tr>
        <tr>
            <td onclick="obererBlock(2)">Zweier</td>
            <td id="zweierPunkte" onclick="obererBlock(2)"></td>
            <td id="zweierPunkte2" onclick="obererBlock(2)"></td>
            <td id="zweierPunkte3" onclick="obererBlock(2)"></td>
            <td id="zweierPunkte4" onclick="obererBlock(2)"></td>
        </tr>
        <tr>
            <td onclick="obererBlock(3)">Dreier</td>
            <td id="dreierPunkte" onclick="obererBlock(3)"></td>
            <td id="dreierPunkte2" onclick="obererBlock(3)"></td>
            <td id="dreierPunkte3" onclick="obererBlock(3)"></td>
            <td id="dreierPunkte4" onclick="obererBlock(3)"></td>
        </tr>
        <tr>
            <td onclick="obererBlock(4)">Vierer</td>
            <td id="viererPunkte" onclick="obererBlock(4)"></td>
            <td id="viererPunkte2" onclick="obererBlock(4)"></td>
            <td id="viererPunkte3" onclick="obererBlock(4)"></td>
            <td id="viererPunkte4" onclick="obererBlock(4)"></td>
        </tr>
        <tr>
            <td onclick="obererBlock(5)">Fünfer</td>
            <td id="fünferPunkte" onclick="obererBlock(5)"></td>
            <td id="fünferPunkte2" onclick="obererBlock(5)"></td>
            <td id="fünferPunkte3" onclick="obererBlock(5)"></td>
            <td id="fünferPunkte4" onclick="obererBlock(5)"></td>
        </tr>
        <tr>
            <td onclick="obererBlock(6)">Sechser</td>
            <td id="sechserPunkte" onclick="obererBlock(6)"></td>
            <td id="sechserPunkte2" onclick="obererBlock(6)"></td>
            <td id="sechserPunkte3" onclick="obererBlock(6)"></td>
            <td id="sechserPunkte4" onclick="obererBlock(6)"></td>
        </tr>
        <tr>
            <td>Summe oben</td>
            <td id="summePunkte"></td>
            <td id="summePunkte2"></td>
            <td id="summePunkte3"></td>
            <td id="summePunkte4"></td>
        </tr>
        <tr>
            <td>Bonus</td>
            <td id="bonusPunkte"></td>
            <td id="bonusPunkte2"></td>
            <td id="bonusPunkte3"></td>
            <td id="bonusPunkte4"></td>
        </tr>
        <tr>
            <td>Oben Gesammt</td>
            <td id="obenGesammtPunkte"></td>
            <td id="obenGesammtPunkte2"></td>
            <td id="obenGesammtPunkte3"></td>
            <td id="obenGesammtPunkte4"></td>
        </tr>
        <tr>
            <td onclick="pasch(3)">Dreierpasch</td>
            <td id="dreierpaschPunkte" onclick="pasch(3)"></td>
            <td id="dreierpaschPunkte2" onclick="pasch(3)"></td>
            <td id="dreierpaschPunkte3" onclick="pasch(3)"></td>
            <td id="dreierpaschPunkte4" onclick="pasch(3)"></td>
        </tr>
        <tr>
            <td onclick="pasch(4)">Viererpasch</td>
            <td id="viererpaschPunkte" onclick="pasch(4)"></td>
            <td id="viererpaschPunkte2" onclick="pasch(4)"></td>
            <td id="viererpaschPunkte3" onclick="pasch(4)"></td>
            <td id="viererpaschPunkte4" onclick="pasch(4)"></td>
        </tr>
        <tr>
            <td onclick=" fullHouse()">Fullhouse</td>
            <td id="fullhousePunkte" onclick=" fullHouse()"></td>
            <td id="fullhousePunkte2" onclick=" fullHouse()"></td>
            <td id="fullhousePunkte3" onclick=" fullHouse()"></td>
            <td id="fullhousePunkte4" onclick=" fullHouse()"></td>
        </tr>
        <tr>
            <td onclick="kleineStraße()">Kleine Straße</td>
            <td id="kleineStraßePunkte" onclick="kleineStraße()"></td>
            <td id="kleineStraßePunkte2" onclick="kleineStraße()"></td>
            <td id="kleineStraßePunkte3" onclick="kleineStraße()"></td>
            <td id="kleineStraßePunkte4" onclick="kleineStraße()"></td>
        </tr>
        <tr>
            <td onclick="großeStraße()">Große Straße</td>
            <td id="großeStraßePunkte" onclick="großeStraße()"></td>
            <td id="großeStraßePunkte2" onclick="großeStraße()"></td>
            <td id="großeStraßePunkte3" onclick="großeStraße()"></td>
            <td id="großeStraßePunkte4" onclick="großeStraße()"></td>
        </tr>
        <tr>
            <td onclick="pasch(5)">Kniffel</td>
            <td id="knifflePunkte" onclick="pasch(5)"></td>
            <td id="knifflePunkte2" onclick="pasch(5)"></td>
            <td id="knifflePunkte3" onclick="pasch(5)"></td>
            <td id="knifflePunkte4" onclick="pasch(5)"></td>
        </tr>
        <tr>
            <td onclick="chance()">Chance</td>
            <td id="chancePunkte" onclick="chance()"></td>
            <td id="chancePunkte2" onclick="chance()"></td>
            <td id="chancePunkte3" onclick="chance()"></td>
            <td id="chancePunkte4" onclick="chance()"></td>
        </tr>
        <tr>
            <td>Summe unten</td>
            <td id="summeUntenPunkte"></td>
            <td id="summeUntenPunkte2"></td>
            <td id="summeUntenPunkte3"></td>
            <td id="summeUntenPunkte4"></td>
        </tr>
        <tr>
            <td>Summe Gesamt</td>
            <td id="summeGesamtPunkte"></td>
            <td id="summeGesamtPunkte2"></td>
            <td id="summeGesamtPunkte3"></td>
            <td id="summeGesamtPunkte4"></td>
        </tr>
    </table>



    <script>
        var zugspieler = 1;
        var würfelWert = [1, 1, 1, 1, 1];

        //var punkteOben = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
        var punkteOben = [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1];
        var punkteOben2 = [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1];
        var punkteOben3 = [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1];
        var punkteOben4 = [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1];

        var punkteGesetzt = false;

        //Id der Würfel Bilder
        const die = ['Dice1', 'Dice2', 'Dice3', 'Dice4', 'Dice5'];

        var gewählteWürfel = ["0", "1", "2", "3", "4"];

        // ob die würfel schon mal angeclickt wurden
        var würfelGewählt = [false, false, false, false, false];
        var zähler = 0;

        //wie viele würfe in der runde noch übrig sind
        var würfelzähler = 3;

        // gibt zufällige zahl zwischen 1 und 6 zurück
        function rollDice() {
            var x = 1 + Math.floor(Math.random() * 6);
            return x;
        }

        //funktion die das system warten lässt, genutzt in rollDice() für die würfel animation
        function Sleep(milliseconds) {
            return new Promise(resolve => setTimeout(resolve, milliseconds));
        }

        // führt rollDice() 5 mal aus , speichert die ergebnisse, führt diceSide() aus
        async function rollDice5() {
            //startet die animation
            togglePlayState('Running');
            //wartet bis sie fertig ist
            await Sleep(500);
            //pausiert die animation
            togglePlayState('Paused');
            // überprüft ob noch gewürfelt werden darf
            if (würfelzähler > 0) {
                for (let i = 0; i < 5; i++) {
                    //überprüft ob der würfel gewählt ist
                    if (würfelGewählt[i] == false) {
                        //setzt in würfelWert an die richtige stelle eine zufallszahl
                        würfelWert[i] = rollDice();

                        diceSide(die[i], würfelWert[i]);
                    }


                }
                //reduziert würfelzähler um 1(wie oft man noch würfeln kann)
                würfelzähler = würfelzähler - 1;
                //setzt punkte gesetzt auf false(die würfeln dürfen nur einmal als punkte eingetragen werden, dannach muss neu gewürfelt werden)
                punkteGesetzt = false;
            }


        }

        //ändert den status der animation
        function togglePlayState(newState) {
            document.getElementById("Dice1").style.animationPlayState = newState;
            document.getElementById("Dice2").style.animationPlayState = newState;
            document.getElementById("Dice3").style.animationPlayState = newState;
            document.getElementById("Dice4").style.animationPlayState = newState;
            document.getElementById("Dice5").style.animationPlayState = newState;
        }

        //kriegt würfelid und wert, ändert würfelbild passend zum wert
        function diceSide(Dice, Value) {

            switch (Value) {
                //ändert das Bild das bei der Id Dice hinterlegt ist in abhängigkeit von value
                case 1:
                    document.getElementById(Dice).src = "Bilder/Würfelseiten/1eyed.jpg";
                    break;
                case 2:
                    document.getElementById(Dice).src = "Bilder/Würfelseiten/2eyed.jpg";
                    break;
                case 3:
                    document.getElementById(Dice).src = "Bilder/Würfelseiten/3eyed.jpg";
                    break;
                case 4:
                    document.getElementById(Dice).src = "Bilder/Würfelseiten/4eyed.jpg";
                    break;
                case 5:
                    document.getElementById(Dice).src = "Bilder/Würfelseiten/5eyed.jpg";
                    break;
                case 6:
                    document.getElementById(Dice).src = "Bilder/Würfelseiten/6eyed.jpg";
                    break;

            }

        }

        //macht den Würfel durchsichtiger und setzt ihn als gewählt, falls schon getan wird es rückgängig gemacht
        function auswählen(sender) {

            //findet den index im array die des wertes der identisch ist zur Id des mitgegebenen Objekts
            var ind = die.indexOf(sender.id);

            //wenn der würfel nicht gewählt ist
            if (würfelGewählt[ind] == false) {

                //macht ihn durchsichtiger
                document.getElementById(sender.id).style.opacity = 0.5;
                //wählt ihn
                würfelGewählt[ind] = true;

                //ansonnsten
            } else {
                //macht ihn wieder undurchsichtig
                document.getElementById(sender.id).style.opacity = 1;
                //entwählt ihn
                würfelGewählt[ind] = false;

            }




        }

        //addiert alle werte die den mitgegebenen wert haben
        function addiereBestimmteWürfel(Wert) {
            var punkte = 0;

            for (let i = 0; i < 5; i++) {
                if (würfelWert[i] == Wert) {
                    punkte = punkte + würfelWert[i];
                }
            }
            return punkte;
        }
        //addiert alle würfelwerte zusammen
        function addiereWürfel() {
            var punkte = 0;

            for (let i = 0; i < 5; i++) {
                punkte = punkte + würfelWert[i];

            }
            return punkte;
        }

        //methode kriegt einen wert, zählt alle würfel mit dem wert zusammen
        //trägt diese dann in die richtige spalte ein
        function obererBlock(Wert) {
            if (zugspieler == 1) {
                if (punkteGesetzt == false) {

                    var punkte = addiereBestimmteWürfel(Wert);

                    //trägt abhängig vom Wert die punkte in eine Spalte ein
                    switch (Wert) {
                        case 1:
                            tragePunkteEin("einserPunkte", punkte, Wert);
                            break;
                        case 2:
                            tragePunkteEin("zweierPunkte", punkte, Wert);
                            break;
                        case 3:
                            tragePunkteEin("dreierPunkte", punkte, Wert);
                            break;
                        case 4:
                            tragePunkteEin("viererPunkte", punkte, Wert);
                            break;
                        case 5:
                            tragePunkteEin("fünferPunkte", punkte, Wert);
                            break;
                        case 6:
                            tragePunkteEin("sechserPunkte", punkte, Wert);
                            break;
                    }


                }
            }
            if (zugspieler == 2) {
                if (punkteGesetzt == false) {

                    var punkte = addiereBestimmteWürfel(Wert);

                    //trägt abhängig vom Wert die punkte in eine Spalte ein
                    switch (Wert) {
                        case 1:
                            tragePunkteEin("einserPunkte2", punkte, Wert);
                            break;
                        case 2:
                            tragePunkteEin("zweierPunkte2", punkte, Wert);
                            break;
                        case 3:
                            tragePunkteEin("dreierPunkte2", punkte, Wert);
                            break;
                        case 4:
                            tragePunkteEin("viererPunkte2", punkte, Wert);
                            break;
                        case 5:
                            tragePunkteEin("fünferPunkte2", punkte, Wert);
                            break;
                        case 6:
                            tragePunkteEin("sechserPunkte2", punkte, Wert);
                            break;
                    }


                }
            }
            if (zugspieler == 3) {
                if (punkteGesetzt == false) {

                    var punkte = addiereBestimmteWürfel(Wert);

                    //trägt abhängig vom Wert die punkte in eine Spalte ein
                    switch (Wert) {
                        case 1:
                            tragePunkteEin("einserPunkte3", punkte, Wert);
                            break;
                        case 2:
                            tragePunkteEin("zweierPunkte3", punkte, Wert);
                            break;
                        case 3:
                            tragePunkteEin("dreierPunkte3", punkte, Wert);
                            break;
                        case 4:
                            tragePunkteEin("viererPunkte3", punkte, Wert);
                            break;
                        case 5:
                            tragePunkteEin("fünferPunkte3", punkte, Wert);
                            break;
                        case 6:
                            tragePunkteEin("sechserPunkte3", punkte, Wert);
                            break;
                    }


                }
            }
            if (zugspieler == 4) {
                if (punkteGesetzt == false) {

                    var punkte = addiereBestimmteWürfel(Wert);

                    //trägt abhängig vom Wert die punkte in eine Spalte ein
                    switch (Wert) {
                        case 1:
                            tragePunkteEin("einserPunkte4", punkte, Wert);
                            break;
                        case 2:
                            tragePunkteEin("zweierPunkte4", punkte, Wert);
                            break;
                        case 3:
                            tragePunkteEin("dreierPunkte4", punkte, Wert);
                            break;
                        case 4:
                            tragePunkteEin("viererPunkte4", punkte, Wert);
                            break;
                        case 5:
                            tragePunkteEin("fünferPunkte4", punkte, Wert);
                            break;
                        case 6:
                            tragePunkteEin("sechserPunkte4", punkte, Wert);
                            break;
                    }


                }
            }

        }

        //methode kriegt eine id und punkte und trägt die punkte dann in die passende spalte ein
        function tragePunkteEin(PunkteId, punkte, pIndex) {
            if (zugspieler == 1) {
                document.getElementById(PunkteId).innerHTML = punkte;
                punkteOben[pIndex - 1] = punkte;

                summeObenBerechnen();
                bonusBerechnen();

                for (let i = 0; i < 5; i++) {
                    if (würfelGewählt[i] == true) {
                        auswählen(document.getElementById(die[i]));
                    }
                }
                summeUntenBerechnen();
                summeGesamtBerechnen();
                würfelzähler = 3;
                punkteGesetzt = true;
                if (beendet() == true) {
                    alert("herzlichen Glückwunsch");
                }
            }
            if (zugspieler == 2) {
                document.getElementById(PunkteId).innerHTML = punkte;
                punkteOben2[pIndex - 1] = punkte;

                summeObenBerechnen();
                bonusBerechnen();

                for (let i = 0; i < 5; i++) {
                    if (würfelGewählt[i] == true) {
                        auswählen(document.getElementById(die[i]));
                    }
                }
                summeUntenBerechnen();
                summeGesamtBerechnen();
                würfelzähler = 3;
                punkteGesetzt = true;
                if (beendet() == true) {
                    alert("herzlichen Glückwunsch");
                }
            }
            if (zugspieler == 3) {
                document.getElementById(PunkteId).innerHTML = punkte;
                punkteOben3[pIndex - 1] = punkte;

                summeObenBerechnen();
                bonusBerechnen();

                for (let i = 0; i < 5; i++) {
                    if (würfelGewählt[i] == true) {
                        auswählen(document.getElementById(die[i]));
                    }
                }
                summeUntenBerechnen();
                summeGesamtBerechnen();
                würfelzähler = 3;
                punkteGesetzt = true;
                if (beendet() == true) {
                    alert("herzlichen Glückwunsch");
                }
            }
            if (zugspieler == 4) {
                document.getElementById(PunkteId).innerHTML = punkte;
                punkteOben4[pIndex - 1] = punkte;

                summeObenBerechnen();
                bonusBerechnen();

                for (let i = 0; i < 5; i++) {
                    if (würfelGewählt[i] == true) {
                        auswählen(document.getElementById(die[i]));
                    }
                }
                summeUntenBerechnen();
                summeGesamtBerechnen();
                würfelzähler = 3;
                punkteGesetzt = true;
                if (beendet() == true) {
                    alert("herzlichen Glückwunsch");
                }
            }
        }

        function bonusBerechnen() {

            if (zugspieler == 1) {
                for (let i = 0; i < 6; i++) {
                    var bonusMöglich = false;
                    if (punkteOben[i] == -1) {
                        bonusMöglich = true;
                    }
                }
                if (bonusMöglich == true) {
                    if (punkteOben[7] >= 63) {
                        punkteOben[8] = 35;
                        document.getElementById("bonusPunkte").innerHTML = punkteOben[8];
                    }
                } else {
                    punkteOben[8] = 0;
                    document.getElementById("bonusPunkte").innerHTML = punkteOben[8];

                }
                if (punkteOben[8] != -1) {
                    punkteOben[9] = punkteOben[7] + punkteOben[8];
                    document.getElementById("obenGesammtPunkte").innerHTML = punkteOben[8];
                }
            }
            if (zugspieler == 2) {
                for (let i = 0; i < 6; i++) {
                    var bonusMöglich = false;
                    if (punkteOben2[i] == -1) {
                        bonusMöglich = true;
                    }
                }
                if (bonusMöglich == true) {
                    if (punkteOben2[7] >= 63) {
                        punkteOben2[8] = 35;
                        document.getElementById("bonusPunkte2").innerHTML = punkteOben2[8];
                    }
                } else {
                    punkteOben2[8] = 0;
                    document.getElementById("bonusPunkte2").innerHTML = punkteOben2[8];

                }
                if (punkteOben2[8] != -1) {
                    punkteOben2[9] = punkteOben2[7] + punkteOben2[8];
                    document.getElementById("obenGesammtPunkte2").innerHTML = punkteOben2[9];
                }
            }
            if (zugspieler == 3) {
                for (let i = 0; i < 6; i++) {
                    var bonusMöglich = false;
                    if (punkteOben3[i] == -1) {
                        bonusMöglich = true;
                    }
                }
                if (bonusMöglich == true) {
                    if (punkteOben3[7] >= 63) {
                        punkteOben3[8] = 35;
                        document.getElementById("bonusPunkte3").innerHTML = punkteOben3[8];
                    }
                } else {
                    punkteOben3[8] = 0;
                    document.getElementById("bonusPunkte3").innerHTML = punkteOben3[8];

                }
                if (punkteOben3[8] != -1) {
                    punkteOben3[9] = punkteOben3[7] + punkteOben3[8];
                    document.getElementById("obenGesammtPunkte3").innerHTML = punkteOben3[9];
                }
            }
            if (zugspieler == 4) {
                for (let i = 0; i < 6; i++) {
                    var bonusMöglich = false;
                    if (punkteOben4[i] == -1) {
                        bonusMöglich = true;
                    }
                }
                if (bonusMöglich == true) {
                    if (punkteOben4[7] >= 63) {
                        punkteOben4[8] = 35;
                        document.getElementById("bonusPunkte3").innerHTML = punkteOben4[8];
                    }
                } else {
                    punkteOben4[8] = 0;
                    document.getElementById("bonusPunkte3").innerHTML = punkteOben4[8];

                }
                if (punkteOben4[8] != -1) {
                    punkteOben4[9] = punkteOben4[7] + punkteOben4[8];
                    document.getElementById("obenGesammtPunkte3").innerHTML = punkteOben4[9];
                }
            }
        }
        //berechnet die summe der punkte im oberenBlock
        function summeObenBerechnen() {
            if (zugspieler == 1) {
                var punkteSumme = 0;
                for (let i = 0; i < 6; i++) {
                    if (punkteOben[i] != -1) {
                        punkteSumme = punkteSumme + punkteOben[i];
                    }
                }
                punkteOben[7] = punkteSumme;
                document.getElementById("summePunkte").innerHTML = punkteSumme;
            }
            if (zugspieler == 2) {
                var punkteSumme = 0;
                for (let i = 0; i < 6; i++) {
                    if (punkteOben2[i] != -1) {
                        punkteSumme = punkteSumme + punkteOben2[i];
                    }
                }
                punkteOben2[7] = punkteSumme;
                document.getElementById("summePunkte2").innerHTML = punkteSumme;
            }
            if (zugspieler == 3) {
                var punkteSumme = 0;
                for (let i = 0; i < 6; i++) {
                    if (punkteObe3[i] != -1) {
                        punkteSumme = punkteSumme + punkteOben3[i];
                    }
                }
                punkteOben3[7] = punkteSumme;
                document.getElementById("summePunkte3").innerHTML = punkteSumme;
            }
            if (zugspieler == 4) {
                var punkteSumme = 0;
                for (let i = 0; i < 6; i++) {
                    if (punkteObe4[i] != -1) {
                        punkteSumme = punkteSumme + punkteOben4[i];
                    }
                }
                punkteOben4[7] = punkteSumme;
                document.getElementById("summePunkte4").innerHTML = punkteSumme;
            }
        }
        //addiert die punkte im unteren block zusammen
        function summeUntenBerechnen() {
            if (zugspieler == 1) {
                var punkteSumme = 0;
                for (let i = 8; i < 16; i++) {
                    if (punkteOben[i] != -1) {
                        punkteSumme = punkteSumme + punkteOben[i];
                    }

                }
                punkteOben[17] = punkteSumme;
                document.getElementById("summeUntenPunkte").innerHTML = punkteSumme;
            }
            if (zugspieler == 2) {
                var punkteSumme = 0;
                for (let i = 8; i < 16; i++) {
                    if (punkteOben2[i] != -1) {
                        punkteSumme = punkteSumme + punkteOben2[i];
                    }

                }
                punkteOben2[17] = punkteSumme;
                document.getElementById("summeUntenPunkte2").innerHTML = punkteSumme;
            }
            if (zugspieler == 3) {
                var punkteSumme = 0;
                for (let i = 8; i < 16; i++) {
                    if (punkteOben3[i] != -1) {
                        punkteSumme = punkteSumme + punkteOben3[i];
                    }

                }
                punkteOben3[17] = punkteSumme;
                document.getElementById("summeUntenPunkte3").innerHTML = punkteSumme;
            }
            if (zugspieler == 4) {
                var punkteSumme = 0;
                for (let i = 8; i < 16; i++) {
                    if (punkteOben4[i] != -1) {
                        punkteSumme = punkteSumme + punkteOben4[i];
                    }

                }
                punkteOben4[17] = punkteSumme;
                document.getElementById("summeUntenPunkte4").innerHTML = punkteSumme;
            }
        }
        //addiert summeoben,bonus und summe unten zusammen
        function summeGesamtBerechnen() {
            if (zugspieler == 1) {
                var punkteSumme = punkteOben[7] + punkteOben[8] + punkteOben[17];
                if (punkteOben[8] == -1) { punkteSumme = punkteSumme + 1 }

                punkteOben[18] = punkteSumme;
                document.getElementById("summeGesamtPunkte").innerHTML = punkteSumme;
            }
            if (zugspieler == 2) {
                var punkteSumme = punkteOben2[7] + punkteOben2[8] + punkteOben2[17];
                if (punkteOben2[8] == -1) { punkteSumme = punkteSumme + 1 }

                punkteOben2[18] = punkteSumme;
                document.getElementById("summeGesamtPunkte2").innerHTML = punkteSumme;
            }
            if (zugspieler == 3) {
                var punkteSumme = punkteOben3[7] + punkteOben3[8] + punkteOben3[17];
                if (punkteOben3[8] == -1) { punkteSumme = punkteSumme + 1 }

                punkteOben3[18] = punkteSumme;
                document.getElementById("summeGesamtPunkte3").innerHTML = punkteSumme;
            }
            if (zugspieler == 4) {
                var punkteSumme = punkteOben4[7] + punkteOben4[8] + punkteOben4[17];
                if (punkteOben4[8] == -1) { punkteSumme = punkteSumme + 1 }

                punkteOben4[18] = punkteSumme;
                document.getElementById("summeGesamtPunkte4").innerHTML = punkteSumme;
            }
        }

        //function zum eintragen des 3pasch,4pasch und 5pasch(kniffel)
        function pasch(anzahl) {
            var kombi = kombination();
            if (zugspieler == 1) {
                for (let i = 0; i < 6; i++) {
                    if (kombi[i] >= anzahl) {
                        switch (anzahl) {
                            case 3:
                                tragePunkteEin("dreierpaschPunkte", addiereWürfel(), 10);
                                break;
                            case 4:
                                tragePunkteEin("viererpaschPunkte", addiereWürfel(), 11);
                                break;
                            case 5:
                                tragePunkteEin("knifflePunkte", 50, 15);
                                break;

                        }

                    } else {
                        switch (anzahl) {
                            case 3:
                                tragePunkteEin("dreierpaschPunkte", 0, 10);
                                break;
                            case 4:
                                tragePunkteEin("viererpaschPunkte", 0, 11);
                                break;
                            case 5:
                                tragePunkteEin("knifflePunkte", 0, 15);
                                break;

                        }
                    }
                }
            }
            if (zugspieler == 2) {
                for (let i = 0; i < 6; i++) {
                    if (kombi[i] >= anzahl) {
                        switch (anzahl) {
                            case 3:
                                tragePunkteEin("dreierpaschPunkte2", addiereWürfel(), 10);
                                break;
                            case 4:
                                tragePunkteEin("viererpaschPunkte2", addiereWürfel(), 11);
                                break;
                            case 5:
                                tragePunkteEin("knifflePunkte2", 50, 15);
                                break;

                        }

                    } else {
                        switch (anzahl) {
                            case 3:
                                tragePunkteEin("dreierpaschPunkte2", 0, 10);
                                break;
                            case 4:
                                tragePunkteEin("viererpaschPunkte2", 0, 11);
                                break;
                            case 5:
                                tragePunkteEin("knifflePunkte2", 0, 15);
                                break;

                        }
                    }
                }
            }
            if (zugspieler == 3) {
                for (let i = 0; i < 6; i++) {
                    if (kombi[i] >= anzahl) {
                        switch (anzahl) {
                            case 3:
                                tragePunkteEin("dreierpaschPunkte3", addiereWürfel(), 10);
                                break;
                            case 4:
                                tragePunkteEin("viererpaschPunkte3", addiereWürfel(), 11);
                                break;
                            case 5:
                                tragePunkteEin("knifflePunkte3", 50, 15);
                                break;

                        }

                    } else {
                        switch (anzahl) {
                            case 3:
                                tragePunkteEin("dreierpaschPunkte3", 0, 10);
                                break;
                            case 4:
                                tragePunkteEin("viererpaschPunkte3", 0, 11);
                                break;
                            case 5:
                                tragePunkteEin("knifflePunkte3", 0, 15);
                                break;

                        }
                    }
                }
            }
            if (zugspieler == 4) {
                for (let i = 0; i < 6; i++) {
                    if (kombi[i] >= anzahl) {
                        switch (anzahl) {
                            case 3:
                                tragePunkteEin("dreierpaschPunkte4", addiereWürfel(), 10);
                                break;
                            case 4:
                                tragePunkteEin("viererpaschPunkte4", addiereWürfel(), 11);
                                break;
                            case 5:
                                tragePunkteEin("knifflePunkte4", 50, 15);
                                break;

                        }

                    } else {
                        switch (anzahl) {
                            case 3:
                                tragePunkteEin("dreierpaschPunkte4", 0, 10);
                                break;
                            case 4:
                                tragePunkteEin("viererpaschPunkte4", 0, 11);
                                break;
                            case 5:
                                tragePunkteEin("knifflePunkte4", 0, 15);
                                break;

                        }
                    }
                }
            }

        }

        // trägt die fullhouse punktzah ein
        function fullHouse() {
            //variablen zum überprüfen
            var full = false;
            var house = false;

            //würfel ergebnisse
            var kombi = kombination();
            //geht durch alle würfel durch
            for (let i = 0; i < 6; i++) {
                //augenanzahl die genau 2 mal vorkommt?
                if (kombi[i] == 2) {
                    full = true;
                }
                //augenanzahl die genau 3 mal vorkommt?
                if (kombi[i] == 3) {
                    house = true;
                }
            }
            if (zugspieler == 1) {
                //wenn beide vorhanden = fullhouse
                if (full == true & house == true) {
                    tragePunkteEin("fullhousePunkte", 25, 12);
                } else {
                    tragePunkteEin("fullhousePunkte", 0, 12);
                }
            }
            if (zugspieler == 2) {
                //wenn beide vorhanden = fullhouse
                if (full == true & house == true) {
                    tragePunkteEin("fullhousePunkte2", 25, 12);
                } else {
                    tragePunkteEin("fullhousePunkte2", 0, 12);
                }
            }
            if (zugspieler == 3) {
                //wenn beide vorhanden = fullhouse
                if (full == true & house == true) {
                    tragePunkteEin("fullhousePunkte3", 25, 12);
                } else {
                    tragePunkteEin("fullhousePunkte3", 0, 12);
                }
            }
            if (zugspieler == 4) {
                //wenn beide vorhanden = fullhouse
                if (full == true & house == true) {
                    tragePunkteEin("fullhousePunkte4", 25, 12);
                } else {
                    tragePunkteEin("fullhousePunkte4", 0, 12);
                }
            }



        }

        //gibt zurück wie häufig die augenanzahlen vorkommt häufigkeit = [wie häufig kommt 1 vor, wie häufig kommt 2 vor,....]
        function kombination() {
            var häufigkeit = [0, 0, 0, 0, 0, 0];

            for (let i = 0; i < 5; i++) {
                häufigkeit[würfelWert[i] - 1] = häufigkeit[würfelWert[i] - 1] + 1;
            }
            return häufigkeit;
        }

        //funtkion für großeStraße überrpüft manual die kombinationen der großenStraße
        function großeStraße() {
            if (zugspieler == 1) {
                var kombi = kombination();
                if (kombi[0] & kombi[1] & kombi[2] & kombi[3] & kombi[4] > 0 || kombi[1] & kombi[2] & kombi[3] & kombi[4] & kombi[5] > 0) {
                    tragePunkteEin("großeStraßePunkte", 40, 14);
                } else {
                    tragePunkteEin("großeStraßePunkte", 0, 14);
                }

            }
            if (zugspieler == 2) {
                var kombi = kombination();
                if (kombi[0] & kombi[1] & kombi[2] & kombi[3] & kombi[4] > 0 || kombi[1] & kombi[2] & kombi[3] & kombi[4] & kombi[5] > 0) {
                    tragePunkteEin("großeStraßePunkte2", 40, 14);
                } else {
                    tragePunkteEin("großeStraßePunkte2", 0, 14);
                }

            }
            if (zugspieler == 3) {
                var kombi = kombination();
                if (kombi[0] & kombi[1] & kombi[2] & kombi[3] & kombi[4] > 0 || kombi[1] & kombi[2] & kombi[3] & kombi[4] & kombi[5] > 0) {
                    tragePunkteEin("großeStraßePunkte3", 40, 14);
                } else {
                    tragePunkteEin("großeStraßePunkte3", 0, 14);
                }

            }
            if (zugspieler == 4) {
                var kombi = kombination();
                if (kombi[0] & kombi[1] & kombi[2] & kombi[3] & kombi[4] > 0 || kombi[1] & kombi[2] & kombi[3] & kombi[4] & kombi[5] > 0) {
                    tragePunkteEin("großeStraßePunkte4", 40, 14);
                } else {
                    tragePunkteEin("großeStraßePunkte4", 0, 14);
                }

            }

        }

        function kleineStraße() {
            if (zugspieler == 1) {
                var kombi = kombination();
                if (kombi[0] & kombi[1] & kombi[2] & kombi[3] > 0 || kombi[1] & kombi[2] & kombi[3] & kombi[4] > 0 || kombi[2] & kombi[3] & kombi[4] & kombi[5] > 0) {
                    tragePunkteEin("kleineStraßePunkte", 30, 13);
                } else {
                    tragePunkteEin("kleineStraßePunkte", 0, 13);
                }
            }
            if (zugspieler == 2) {
                var kombi = kombination();
                if (kombi[0] & kombi[1] & kombi[2] & kombi[3] > 0 || kombi[1] & kombi[2] & kombi[3] & kombi[4] > 0 || kombi[2] & kombi[3] & kombi[4] & kombi[5] > 0) {
                    tragePunkteEin("kleineStraßePunkte2", 30, 13);
                } else {
                    tragePunkteEin("kleineStraßePunkte2", 0, 13);
                }
            }
            if (zugspieler == 3) {
                var kombi = kombination();
                if (kombi[0] & kombi[1] & kombi[2] & kombi[3] > 0 || kombi[1] & kombi[2] & kombi[3] & kombi[4] > 0 || kombi[2] & kombi[3] & kombi[4] & kombi[5] > 0) {
                    tragePunkteEin("kleineStraßePunkte3", 30, 13);
                } else {
                    tragePunkteEin("kleineStraßePunkte3", 0, 13);
                }
            }
            if (zugspieler == 4) {
                var kombi = kombination();
                if (kombi[0] & kombi[1] & kombi[2] & kombi[3] > 0 || kombi[1] & kombi[2] & kombi[3] & kombi[4] > 0 || kombi[2] & kombi[3] & kombi[4] & kombi[5] > 0) {
                    tragePunkteEin("kleineStraßePunkte4", 30, 13);
                } else {
                    tragePunkteEin("kleineStraßePunkte4", 0, 13);
                }
            }

        }

        //bei chance werden alle augen addiert und eingetragen
        function chance() {
            if (zugspieler == 1) {
                tragePunkteEin("chancePunkte", addiereWürfel(), 16);
            }
            if (zugspieler == 2) {
                tragePunkteEin("chancePunkte2", addiereWürfel(), 16);
            }
            if (zugspieler == 3) {
                tragePunkteEin("chancePunkte3", addiereWürfel(), 16);
            }
            if (zugspieler == 4) {
                tragePunkteEin("chancePunkte4", addiereWürfel(), 16);
            }
        }

        function beendet() {
            var fertig = true;
            for (let i = 0; i < punkteOben.length; i++) {
                if (punkteOben[i] == -1) {
                    fertig = false;
                }
            }
            return fertig;
        }

        function nextPlayer() {
            if (zugspieler == 1) {
                zugspieler = 2;
            } else {
                if (zugspieler == 2) {
                    zugspieler = 3;
                } else {
                    if (zugspieler == 3) {
                        zugspieler = 4;
                    } else {
                        if (zugspieler == 4) {
                            zugspieler = 1;
                        }
                    }
                }
            }
            document.getElementById("player").innerHTML = zugspieler;

        }
    </script>
</body>

</html>